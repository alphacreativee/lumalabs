import{preloadImages}from"../../libs/utils.js";let lenis;function initLenis(){lenis=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smooth:!0}),requestAnimationFrame(function e(r){lenis.raf(r),requestAnimationFrame(e)}),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)})}function hero(){var e=document.querySelector(".hero"),r=document.querySelector(".hero-wrapper__video"),t=document.getElementById("header");e.offsetHeight;gsap.set(r,{clearProps:"width,height,left,top"}),gsap.set(t,{clearProps:"top"}),gsap.to(".hero",{scrollTrigger:{trigger:".hero",start:"top top",end:()=>"+=300%",scrub:1,pin:!0,pinSpacing:!1}}),gsap.fromTo(r,{width:"calc(100% - 80px)",height:"calc(100dvh - 140px)",left:"50%",top:"0",xPercent:-50},{width:"60px",height:"90px",top:"50%",xPercent:-50,yPercent:-50,ease:"none",scrollTrigger:{trigger:e,start:"top top",end:"+=150%",scrub:!0}}),gsap.from("#header",{top:"0",ease:"none",scrollTrigger:{trigger:"body",start:"top top",end:"+=150%",scrub:!0,markers:!0}}),console.log(1.5*window.innerHeight-t.offsetHeight),ScrollTrigger.refresh()}Splitting();let init=()=>{initLenis(),hero(),window.addEventListener("resize",()=>{ScrollTrigger.refresh()})};preloadImages("img").then(()=>{document.body.classList.remove("loading"),init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});