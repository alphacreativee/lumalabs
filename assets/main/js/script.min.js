import{preloadImages}from"../../libs/utils.js";let lenis;function initLenis(){lenis=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smooth:!0}),requestAnimationFrame(function e(r){lenis.raf(r),requestAnimationFrame(e)}),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)})}function hero(){var e=document.querySelector(".hero"),r=document.querySelector(".hero-personas"),t=document.querySelector(".hero-wrapper__video");document.getElementById("header"),e.offsetHeight;gsap.to(".hero",{scrollTrigger:{trigger:".hero",start:"top top",end:"+=300%",scrub:1,pin:!0,pinSpacing:!1}}),gsap.to(t,{width:"100px",height:"60px",top:"calc(50% - 11px)",left:"50%",yPercent:50,xPercent:-50,borderRadius:"40px",ease:"none",scrollTrigger:{trigger:t,start:"top top",end:"+=150%",scrub:!0,pinSpacing:!1}}),gsap.fromTo(".hero-wrapper__bg .bg-item.active",{opacity:0},{opacity:1,ease:"none",scrollTrigger:{trigger:t,start:"top top",end:"+=150%",scrub:!0}}),gsap.fromTo("#header",{top:"100%",yPercent:-100,opacity:1},{top:0,yPercent:0,ease:"none",scrollTrigger:{trigger:"body",start:"top top",end:"50% top",scrub:!0,pinSpacing:!1,onUpdate:e=>{e=e.progress.toFixed(2);let r;r=e<.1?1:.1<=e&&e<=.2?1-10*(e-.1):.2<e&&e<.99?0:1,.9<=e?document.getElementById("header").classList.add("header--fixed"):document.getElementById("header").classList.remove("header--fixed"),1==e?document.querySelector(".hero-switcher").classList.add("active"):document.querySelector(".hero-switcher").classList.remove("active"),gsap.to("#header",{opacity:r})}}}),gsap.to(r,{scale:.52,ease:"none",scrollTrigger:{trigger:t,start:"top top",end:"+=150%",scrub:!0,pinSpacing:!1,onUpdate:e=>{1==e.progress.toFixed(2)?document.querySelector(".hero").classList.add("done-video"):document.querySelector(".hero").classList.remove("done-video")}}}),ScrollTrigger.refresh()}Splitting();let init=()=>{initLenis(),hero(),window.addEventListener("resize",()=>{ScrollTrigger.refresh()})};preloadImages("img").then(()=>{document.body.classList.remove("loading"),init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});