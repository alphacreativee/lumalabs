import{preloadImages}from"../../libs/utils.js";let lenis;function initLenis(){lenis=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smooth:!0}),requestAnimationFrame(function e(t){lenis.raf(t),requestAnimationFrame(e)}),lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)})}function hero(){var e=document.querySelector(".hero"),t=document.querySelector(".hero-personas"),o=document.querySelector(".hero-wrapper__video");document.getElementById("header"),e.offsetHeight;gsap.to(".hero",{scrollTrigger:{trigger:".hero",start:"top top",end:"+=300%",scrub:1,pin:!0,pinSpacing:!1}}),gsap.to(o,{width:"100px",height:"60px",top:"calc(50% - 11px)",left:"50%",yPercent:50,xPercent:-50,borderRadius:"40px",ease:"none",scrollTrigger:{trigger:o,start:"top top",end:"+=150%",scrub:!0,pinSpacing:!1}}),gsap.fromTo(".hero-wrapper__bg .bg-item.active",{opacity:0},{opacity:1,ease:"none",scrollTrigger:{trigger:o,start:"top top",end:"+=150%",scrub:!0}}),gsap.to(".hero",{backgroundColor:"#B9BABA",ease:"none",scrollTrigger:{trigger:o,start:"top top",end:"+=150%",scrub:!0}}),gsap.fromTo("#header",{top:"100%",yPercent:-100,opacity:1},{top:0,yPercent:0,ease:"none",scrollTrigger:{trigger:"body",start:"top top",end:"50% top",scrub:!0,pinSpacing:!1,onUpdate:e=>{e=e.progress.toFixed(2);let t;t=e<.1?1:.1<=e&&e<=.2?1-10*(e-.1):.2<e&&e<.99?0:1,.9<=e?document.getElementById("header").classList.add("header--fixed"):document.getElementById("header").classList.remove("header--fixed"),1==e?document.querySelector(".hero-switcher").classList.add("active"):document.querySelector(".hero-switcher").classList.remove("active"),gsap.to("#header",{opacity:t})}}}),gsap.to(t,{scale:.52,ease:"none",scrollTrigger:{trigger:o,start:"top top",end:"+=150%",scrub:!0,pinSpacing:!1,onUpdate:e=>{1==e.progress.toFixed(2)?document.querySelector(".hero").classList.add("done-video"):document.querySelector(".hero").classList.remove("done-video")}}}),ScrollTrigger.refresh()}function parallaxIt(e,t,o){var t=$(t),r=e.pageX-t.offset().left,e=e.pageY-t.offset().top,r=(r/t.width()-.5)*o,e=(e/t.height()-.5)*o;TweenMax.to(t,.3,{x:r,y:e,ease:Power2.easeOut})}function callParallax(e){var t=$(e.currentTarget),o=t.find("img"),r=t.find("span");parallaxIt(e,t,10),o.length&&parallaxIt(e,o,20),r.length&&parallaxIt(e,r,15)}function hoverIcon(){$(".list-item .item").mousemove(function(e){callParallax(e)}),$(".btn-large").mousemove(function(e){callParallax(e)}),$(".list-item .item").mouseleave(function(e){TweenMax.to(this,.3,{height:60,width:100,x:0,y:0,ease:Power2.easeOut}),TweenMax.to($(this).find("img"),.3,{x:0,y:0,scale:1,ease:Power2.easeOut})}),$(".list-item .item").mouseenter(function(e){TweenMax.to($(this).find("img"),.3,{scale:.9})}),$(".btn-large").mouseleave(function(e){TweenMax.to(this,.3,{x:0,y:0,ease:Power2.easeOut}),TweenMax.to($(this).find("span"),.3,{x:0,y:0,scale:1,ease:Power2.easeOut})}),$(".btn-large").mouseenter(function(e){TweenMax.to($(this).find("span"),.3,{scale:.9,ease:Power2.easeOut})})}Splitting();let init=()=>{initLenis(),hero(),hoverIcon(),window.addEventListener("resize",()=>{ScrollTrigger.refresh()})};preloadImages("img").then(()=>{document.body.classList.remove("loading"),init()}),$(window).on("beforeunload",function(){$(window).scrollTop(0)});